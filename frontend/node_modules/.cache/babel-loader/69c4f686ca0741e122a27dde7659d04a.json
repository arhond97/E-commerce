{"ast":null,"code":"import { CREATE_PRODUCT_FAIL, CREATE_PRODUCT_REQUEST, CREATE_PRODUCT_SUCCESS, PRODUCT_CATEGORY_LIST_FAIL, PRODUCT_CATEGORY_LIST_REQUEST, PRODUCT_CATEGORY_LIST_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS } from \"../constants/productsConstants\";\nimport axios from \"axios\";\nimport { USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_SIGNIN_SUCCESS } from \"../constants/userConstants\";\nexport const listProducts = () => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(\"/api/products\");\n    dispatch({\n      type: PRODUCT_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\nexport const detailsProduct = productId => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_DETAILS_REQUEST,\n      payload: productId\n    });\n    const {\n      data\n    } = await axios.get(`/api/products/${productId}`);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const listProductsCategories = () => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_CATEGORY_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(\"/api/products/categories\");\n    dispatch({\n      type: PRODUCT_CATEGORY_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_CATEGORY_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\nexport const deleteProduct = productId => async (dispatch, getState) => {\n  dispatch({\n    type: PRODUCT_DELETE_REQUEST,\n    payload: productId\n  });\n  const {\n    userSignin: {\n      userInfo\n    }\n  } = getState();\n\n  try {\n    await axios.delete(`/api/products/${productId}`, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch({\n      type: PRODUCT_DELETE_SUCCESS\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DELETE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const createProduct = (name, image, image1, price, category, countInStock, thumbnail, description) => async (dispatch, getState) => {\n  dispatch({\n    type: CREATE_PRODUCT_REQUEST,\n    payload: {\n      name,\n      image,\n      image1,\n      price,\n      category,\n      countInStock,\n      thumbnail,\n      description\n    }\n  });\n  const {\n    userSignin: {\n      userInfo\n    }\n  } = getState();\n\n  try {\n    const {\n      data\n    } = await axios.post('/api/products/createproduct', {\n      name,\n      image,\n      image1,\n      price,\n      category,\n      countInStock,\n      thumbnail,\n      description\n    }, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch({\n      type: CREATE_PRODUCT_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: CREATE_PRODUCT_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const updateProduct = product => async (dispatch, getState) => {\n  dispatch({\n    type: PRODUCT_UPDATE_REQUEST\n  });\n  const {\n    userSignin: {\n      userInfo\n    }\n  } = getState();\n\n  try {\n    const {\n      data\n    } = await axios.put(`/api/products/${product._id}`, product, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch({\n      type: PRODUCT_UPDATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_UPDATE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/Arhond/IdeaProjects/E-commerce/frontend/src/actions/productActions.js"],"names":["CREATE_PRODUCT_FAIL","CREATE_PRODUCT_REQUEST","CREATE_PRODUCT_SUCCESS","PRODUCT_CATEGORY_LIST_FAIL","PRODUCT_CATEGORY_LIST_REQUEST","PRODUCT_CATEGORY_LIST_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","axios","USER_REGISTER_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_SIGNIN_SUCCESS","listProducts","dispatch","type","data","get","payload","error","message","detailsProduct","productId","response","listProductsCategories","deleteProduct","getState","userSignin","userInfo","delete","headers","Authorization","token","createProduct","name","image","image1","price","category","countInStock","thumbnail","description","post","updateProduct","product","put","_id"],"mappings":"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","sourcesContent":["import {\r\n    CREATE_PRODUCT_FAIL,\r\n    CREATE_PRODUCT_REQUEST, CREATE_PRODUCT_SUCCESS,\r\n    PRODUCT_CATEGORY_LIST_FAIL,\r\n    PRODUCT_CATEGORY_LIST_REQUEST,\r\n    PRODUCT_CATEGORY_LIST_SUCCESS,\r\n    PRODUCT_DELETE_FAIL,\r\n    PRODUCT_DELETE_REQUEST,\r\n    PRODUCT_DELETE_SUCCESS,\r\n    PRODUCT_DETAILS_FAIL,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_LIST_FAIL,\r\n    PRODUCT_LIST_REQUEST,\r\n    PRODUCT_LIST_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS\r\n} from \"../constants/productsConstants\";\r\nimport axios from \"axios\";\r\nimport {\r\n    USER_REGISTER_FAIL,\r\n    USER_REGISTER_REQUEST,\r\n    USER_REGISTER_SUCCESS,\r\n    USER_SIGNIN_SUCCESS\r\n} from \"../constants/userConstants\";\r\n\r\nexport const listProducts = () => async (dispatch) => {\r\n    try {\r\n        dispatch({type: PRODUCT_LIST_REQUEST});\r\n        const {data} = await axios.get(\"/api/products\");\r\n        dispatch({type: PRODUCT_LIST_SUCCESS, payload: data});\r\n    }catch (error) {\r\n        dispatch({type: PRODUCT_LIST_FAIL, payload: error.message});\r\n    }\r\n}\r\n\r\nexport const detailsProduct = (productId) => async (dispatch) => {\r\n\r\n    try {\r\n        dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n        const { data } = await axios.get(`/api/products/${productId}`);\r\n        dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({type: PRODUCT_DETAILS_FAIL, payload: error.response && error.response.data.message ?\r\n                error.response.data.message : error.message,});\r\n    }\r\n}\r\n\r\nexport const listProductsCategories = () => async (dispatch) => {\r\n    try {\r\n        dispatch({type: PRODUCT_CATEGORY_LIST_REQUEST});\r\n        const {data} = await axios.get(\"/api/products/categories\");\r\n        dispatch({type: PRODUCT_CATEGORY_LIST_SUCCESS, payload: data});\r\n    }catch (error) {\r\n        dispatch({type: PRODUCT_CATEGORY_LIST_FAIL, payload: error.message});\r\n    }\r\n}\r\n\r\n\r\nexport const deleteProduct = (productId) => async(dispatch, getState) => {\r\n    dispatch({type: PRODUCT_DELETE_REQUEST, payload: productId});\r\n    const {userSignin: { userInfo },} = getState();\r\n    try {\r\n        await axios.delete(`/api/products/${productId}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        });\r\n        dispatch({ type: PRODUCT_DELETE_SUCCESS });\r\n    } catch (error) {\r\n        dispatch({type: PRODUCT_DELETE_FAIL, payload: error.response && error.response.data.message ?\r\n                error.response.data.message : error.message,});\r\n    }\r\n}\r\n\r\nexport const createProduct = (name, image, image1, price, category, countInStock, thumbnail, description) => async (dispatch, getState) => {\r\n    dispatch({type: CREATE_PRODUCT_REQUEST, payload: {name, image, image1, price, category, countInStock, thumbnail, description}});\r\n    const {userSignin: { userInfo },} = getState();\r\n    try{\r\n        const {data} = await axios.post('/api/products/createproduct', {name, image, image1, price, category, countInStock, thumbnail, description}, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        });\r\n        dispatch({type: CREATE_PRODUCT_SUCCESS, payload: data});\r\n    }catch (error) {\r\n        dispatch({type: CREATE_PRODUCT_FAIL, payload: error.response && error.response.data.message ?\r\n                error.response.data.message : error.message});\r\n    }\r\n}\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n    dispatch({type: PRODUCT_UPDATE_REQUEST});\r\n    const {userSignin: { userInfo },} = getState();\r\n    try {\r\n        const { data } = await axios.put(`/api/products/${product._id}`, product, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        });\r\n        dispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({type: PRODUCT_UPDATE_FAIL, payload: error.response && error.response.data.message ?\r\n                error.response.data.message : error.message,});\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}