{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arhond\\\\IdeaProjects\\\\Serwis_E-commerce_Projekt\\\\frontend\\\\src\\\\pages\\\\ProductsScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport \"@fortawesome/fontawesome-svg-core/styles.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Card, Col, Form } from \"react-bootstrap\";\nimport \"../index.css\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport LoadingBox from \"../components/Loading\";\nimport ErrorBox from \"../components/Error\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listProducts, listProductsCategories } from \"../actions/productActions\";\nimport { faDollarSign, faEdit, faShoppingCart } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { addToCart } from \"../actions/cartActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Products(props) {\n  _s();\n\n  const productList = useSelector(state => state.productList);\n  const {\n    loading,\n    error,\n    products\n  } = productList;\n  const dispatch = useDispatch();\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin;\n  const [name, setName] = useState('');\n  const [category, setCategory] = useState('');\n  const productCategoryList = useSelector(state => state.productCategoryList);\n  const {\n    categories\n  } = productCategoryList;\n  useEffect(() => {\n    dispatch(listProducts());\n    dispatch(listProductsCategories());\n    window.scrollTo(0, 0);\n  }, []);\n\n  const editHandler = product => {\n    window.location.href = `/product/${product._id}/edit`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-container mt-5\",\n    id: \"products\",\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      children: /*#__PURE__*/_jsxDEV(Form.Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          lg: \"4\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"ml-3 mt-5 text-lg\",\n            children: \"Produkty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          lg: \"4\",\n          controlId: \"formGridSearch\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"mt-3\",\n            children: \"Wyszukaj\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"text-lg\",\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          lg: \"4\",\n          defaultValue: \"Wybierz kategori\\u0119...\",\n          controlId: \"formGridCategory\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            className: \"mt-5 text-lg\",\n            onChange: e => setCategory(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              selected: true,\n              value: \"all\",\n              children: \"Wybierz kategori\\u0119...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 33\n            }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n              children: c\n            }, c, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 37\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this), loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 28\n    }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorBox, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 51\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row pb-5\",\n      style: {\n        marginBottom: \"20%\"\n      },\n      children: products.sort().filter(product => {\n        if (name === \"\" && category === \"all\") {\n          return product;\n        } else if (product.name.toLowerCase().includes(name.toLowerCase()) && category === \"all\") {\n          return product;\n        } else if (product.thumbnail.toLowerCase().includes(name.toLowerCase()) && category === \"all\") {\n          return product;\n        } else if (name === \"\" && product.category.toString().toLowerCase().includes(category.toLowerCase())) {\n          return product;\n        } else if (product.name.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())) {\n          return product;\n        } else if (product.thumbnail.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())) {\n          return product;\n        }\n      }).map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-3 mt-3\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"m-lg-3\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/product/${product._id}`,\n            children: /*#__PURE__*/_jsxDEV(Card.Img, {\n              variant: \"top\",\n              src: product.image,\n              className: \"img-fluid w-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/product/${product._id}`,\n              className: \"link-color\",\n              children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 49\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: product.thumbnail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 49\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                textAlign: 'right'\n              },\n              children: [product.price, \" z\\u0142\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 49\n            }, this), userInfo && !userInfo.isAdmin ? product.countInStock > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: `/cart/${product._id}?qty=1`,\n                style: {\n                  textDecoration: 'none'\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-success\",\n                  className: \"mb-btn-m w-100 pl-1 mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faDollarSign\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 118\n                  }, this), \" Kup teraz\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 73\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 69\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => dispatch(addToCart(product._id, 1)),\n                variant: \"outline-dark\",\n                className: \"mb-btn-m w-100\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faShoppingCart\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 104\n                }, this), \" Do koszyka\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 73\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-danger m-3 pb-4\",\n              children: \"Wyprzedano\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 69\n            }, this) : userInfo && userInfo.isAdmin ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-dark\",\n              className: \"mb-btn-m w-100\",\n              onClick: () => editHandler(product),\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faEdit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 102\n              }, this), \" Edytuj Produkt\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 61\n            }, this) : product.countInStock > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: `/cart/${product._id}?qty=1`,\n                className: \"btn btn-outline-success mb-btn-m w-100 buttons-mb pl-1 block\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faDollarSign\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 186\n                }, this), \" Kup teraz\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 73\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => dispatch(addToCart(product._id, 1)),\n                variant: \"outline-dark\",\n                className: \"mb-btn-m w-100\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faShoppingCart\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 104\n                }, this), \" Do koszyka\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 73\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-danger m-3 pb-4\",\n              children: \"Wyprzedano\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 69\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 41\n        }, this)\n      }, product._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Products, \"gaUFy279USGlA7Io7wetJpVJK6I=\", false, function () {\n  return [useSelector, useDispatch, useSelector, useSelector];\n});\n\n_c = Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["C:/Users/Arhond/IdeaProjects/Serwis_E-commerce_Projekt/frontend/src/pages/ProductsScreen.js"],"names":["React","useState","Button","Card","Col","Form","Link","useEffect","LoadingBox","ErrorBox","useDispatch","useSelector","listProducts","listProductsCategories","faDollarSign","faEdit","faShoppingCart","FontAwesomeIcon","addToCart","Products","props","productList","state","loading","error","products","dispatch","userSignin","userInfo","name","setName","category","setCategory","productCategoryList","categories","window","scrollTo","editHandler","product","location","href","_id","e","target","value","map","c","marginBottom","sort","filter","toLowerCase","includes","thumbnail","toString","image","textAlign","price","isAdmin","countInStock","textDecoration"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport \"@fortawesome/fontawesome-svg-core/styles.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {Button, Card, Col, Form} from \"react-bootstrap\";\r\nimport \"../index.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useEffect} from \"react\";\r\nimport LoadingBox from \"../components/Loading\";\r\nimport ErrorBox from \"../components/Error\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {listProducts, listProductsCategories} from \"../actions/productActions\";\r\nimport {faDollarSign, faEdit, faShoppingCart} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {addToCart} from \"../actions/cartActions\";\r\n\r\n\r\nexport default function Products(props) {\r\n\r\n    const productList = useSelector((state) => state.productList);\r\n    const {loading, error, products} = productList;\r\n    const dispatch = useDispatch();\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const {userInfo} = userSignin;\r\n    const [name, setName] = useState('');\r\n    const [category, setCategory]= useState('');\r\n    const productCategoryList = useSelector((state) => state.productCategoryList);\r\n    const {categories} = productCategoryList;\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        dispatch(listProducts());\r\n\r\n        dispatch(listProductsCategories());\r\n\r\n        window.scrollTo(0, 0);\r\n\r\n\r\n\r\n\r\n    }, []);\r\n\r\n    const editHandler = (product) => {\r\n        window.location.href = `/product/${product._id}/edit`;\r\n    }\r\n\r\n    return (\r\n            <div className=\"my-container mt-5\" id=\"products\">\r\n                <Form>\r\n\r\n                    <Form.Row>\r\n                        <Col lg=\"4\"><h1 className=\"ml-3 mt-5 text-lg\">Produkty</h1></Col>\r\n                        <Form.Group as={Col} lg=\"4\" controlId=\"formGridSearch\">\r\n                            <Form.Label className=\"mt-3\">Wyszukaj</Form.Label>\r\n                            <Form.Control className=\"text-lg\" onChange={e => setName(e.target.value)}/>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} lg=\"4\" defaultValue=\"Wybierz kategorię...\" controlId=\"formGridCategory\">\r\n                            <Form.Control as=\"select\" className=\"mt-5 text-lg\"  onChange={e => setCategory(e.target.value)}>\r\n                                <option selected value=\"all\">Wybierz kategorię...</option>\r\n                                {categories.map((c) => (\r\n                                    <option key={c}>{c}</option>\r\n                                ))}\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n\r\n\r\n\r\n                </Form>\r\n                {loading ? <LoadingBox/> :error ? <ErrorBox variant=\"danger\">{error}</ErrorBox> : (\r\n\r\n                    <div className=\"row pb-5\" style={{marginBottom: \"20%\"}}>\r\n                        {\r\n                            products.sort().filter((product) => {\r\n                            if(name === \"\" && category === \"all\"){\r\n                                return product;\r\n                            } else if(product.name.toLowerCase().includes(name.toLowerCase()) && category === \"all\"){\r\n                                return product;\r\n                            }else if(product.thumbnail.toLowerCase().includes(name.toLowerCase()) && category === \"all\"){\r\n                                return product;\r\n                            } else if(name === \"\" && product.category.toString().toLowerCase().includes(category.toLowerCase())) {\r\n                                return product;\r\n                            } else if(product.name.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())){\r\n                                return product;\r\n                            } else if(product.thumbnail.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())){\r\n                                return product;\r\n                            }\r\n\r\n                            }).map( (product) => (\r\n                                    <div className=\"col-lg-3 mt-3\" key={product._id}>\r\n                                        <Card className=\"m-lg-3\">\r\n                                            <Link to={`/product/${product._id}`}>\r\n                                                <Card.Img variant=\"top\" src={product.image} className=\"img-fluid w-100\"/>\r\n                                            </Link>\r\n                                            <Card.Body>\r\n                                                <Link to={`/product/${product._id}`} className=\"link-color\">\r\n                                                    <Card.Title>{product.name}</Card.Title>\r\n                                                </Link>\r\n                                                <Card.Text>{product.thumbnail}</Card.Text>\r\n                                                <h3 style={{textAlign: 'right'}}>{product.price} zł</h3>\r\n                                                {\r\n                                                    userInfo && !userInfo.isAdmin ? (\r\n\r\n                                                        product.countInStock > 0 ? (\r\n                                                                    <>\r\n                                                                    <Link to={`/cart/${product._id}?qty=1`} style={{textDecoration: 'none'}}>\r\n                                                                        <Button variant=\"outline-success\"\r\n                                                                                className=\"mb-btn-m w-100 pl-1 mb-2\"><FontAwesomeIcon\r\n                                                                            icon={faDollarSign}/> Kup teraz</Button>\r\n                                                                    </Link>\r\n                                                                        <Button\r\n                                                                            onClick={() => dispatch(addToCart(product._id, 1))}\r\n                                                                            variant=\"outline-dark\"\r\n                                                                            className=\"mb-btn-m w-100\"><FontAwesomeIcon\r\n                                                                            icon={faShoppingCart}/> Do koszyka</Button>\r\n                                                                    </>\r\n                                                                ) : (\r\n                                                                    <h3 className=\"text-danger m-3 pb-4\">Wyprzedano</h3>\r\n                                                            )\r\n                                                        ) :\r\n                                                        (userInfo && userInfo.isAdmin ? (\r\n                                                            <Button\r\n                                                                variant=\"outline-dark\"\r\n                                                                className=\"mb-btn-m w-100\"\r\n                                                                onClick={() => editHandler(product)}><FontAwesomeIcon\r\n                                                                icon={faEdit}/> Edytuj Produkt</Button>\r\n                                                        ) : (\r\n                                                                product.countInStock > 0 ? (\r\n                                                                    <>\r\n                                                                        <Link to={`/cart/${product._id}?qty=1`} className=\"btn btn-outline-success mb-btn-m w-100 buttons-mb pl-1 block\"><FontAwesomeIcon\r\n                                                                            icon={faDollarSign}/> Kup teraz</Link>\r\n                                                                        <Button\r\n                                                                            onClick={() => dispatch(addToCart(product._id, 1))}\r\n                                                                            variant=\"outline-dark\"\r\n                                                                            className=\"mb-btn-m w-100\"><FontAwesomeIcon\r\n                                                                            icon={faShoppingCart}/> Do koszyka</Button>\r\n                                                                    </>\r\n                                                                ) : (\r\n                                                                    <h3 className=\"text-danger m-3 pb-4\">Wyprzedano</h3>\r\n                                                                )\r\n                                                        )\r\n                                                        )\r\n                                                }\r\n\r\n                                            </Card.Body>\r\n                                        </Card>\r\n                                    </div>\r\n                                )\r\n                            )\r\n                        }\r\n                    </div>\r\n                )}\r\n\r\n            </div>\r\n\r\n\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}