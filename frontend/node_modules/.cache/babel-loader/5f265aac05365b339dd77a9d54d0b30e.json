{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arhond\\\\IdeaProjects\\\\Serwis_E-commerce_Projekt\\\\frontend\\\\src\\\\components\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteProduct, listProducts, listProductsCategories } from \"../actions/productActions\";\nimport { useEffect } from \"react\";\nimport LoadingBox from \"./Loading\";\nimport ErrorBox from \"./Error\";\nimport { Button, Col, Container, Form, Row, Table } from \"react-bootstrap\";\nimport { PRODUCT_DELETE_RESET } from \"../constants/productsConstants\";\nimport ProductCreate from \"./ProductCreateModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductsTab(props) {\n  _s();\n\n  const productList = useSelector(state => state.productList);\n  const {\n    loading,\n    error,\n    products\n  } = productList;\n  const productDelete = useSelector(state => state.productDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete\n  } = productDelete;\n  const productCreate = useSelector(state => state.productCreate);\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate\n  } = productCreate;\n  const dispatch = useDispatch();\n  const [name, setName] = useState('');\n  const [category, setCategory] = useState('');\n  const productCategoryList = useSelector(state => state.productCategoryList);\n  const {\n    categories\n  } = productCategoryList;\n\n  const editHandler = product => {\n    window.location.href = `/product/${product._id}/edit`;\n  };\n\n  useEffect(() => {\n    if (successDelete) {\n      dispatch({\n        type: PRODUCT_DELETE_RESET\n      });\n    }\n\n    dispatch(listProducts());\n    dispatch(listProductsCategories());\n    const body = document.querySelector('#root');\n    body.scrollIntoView({\n      behavior: 'smooth'\n    }, 500);\n  }, [dispatch, successDelete, successCreate]);\n\n  const deleteHandler = product => {\n    if (window.confirm(`Jesteś pawny/a, że chcesz usunąć produkt ${product.name}?`)) {\n      dispatch(deleteProduct(product._id));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      paddingBottom: '14%',\n      marginBottom: '8%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mr-0\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: \"2\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            margin: '10px'\n          },\n          children: \"Produkty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: \"6\",\n        children: /*#__PURE__*/_jsxDEV(ProductCreate, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), loadingDelete && /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 31\n    }, this), errorDelete && /*#__PURE__*/_jsxDEV(ErrorBox, {\n      variant: \"danger\",\n      children: errorDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }, this), loadingCreate && /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 31\n    }, this), errorCreate && /*#__PURE__*/_jsxDEV(ErrorBox, {\n      variant: \"danger\",\n      children: errorCreate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n      className: \"ml-2\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Col,\n        lg: \"4\",\n        controlId: \"formGridSearch\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"mt-3\",\n          children: \"Wyszukaj\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"text-lg\",\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        as: Col,\n        lg: \"4\",\n        defaultValue: \"Wybierz kategori\\u0119...\",\n        controlId: \"formGridCategory\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          className: \"mt-5 text-lg\",\n          onChange: e => setCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            selected: true,\n            value: \"all\",\n            children: \"Wybierz kategori\\u0119...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            children: c\n          }, c, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 27\n    }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorBox, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      className: \"mb-5\",\n      striped: true,\n      bordered: true,\n      responsive: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NUMER PRODUKTU\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NAZWA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"CENA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"KATEGORIA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"AKCJE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: products.filter(product => {\n          if (name === \"\" && category === \"all\") {\n            return product;\n          } else if (product.name.toLowerCase().includes(name.toLowerCase()) && category === \"all\") {\n            return product;\n          } else if (product.thumbnail.toLowerCase().includes(name.toLowerCase()) && category === \"all\") {\n            return product;\n          } else if (name === \"\" && product.category.toString().toLowerCase().includes(category.toLowerCase())) {\n            return product;\n          } else if (product.name.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())) {\n            return product;\n          } else if (product._id.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())) {\n            return product;\n          } else if (product.thumbnail.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())) {\n            return product;\n          }\n        }).map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: product._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [product.price, \" z\\u0142\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: product.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              size: \"sm\",\n              onClick: () => editHandler(product),\n              children: \"Edytuj\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"sm\",\n              variant: \"danger\",\n              className: \"ml-3\",\n              onClick: () => deleteHandler(product),\n              children: \"Usu\\u0144\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 41\n          }, this)]\n        }, product._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 37\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductsTab, \"GyfHM7qq465NaprKLK13VIxN8uU=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch, useSelector];\n});\n\n_c = ProductsTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsTab\");","map":{"version":3,"sources":["C:/Users/Arhond/IdeaProjects/Serwis_E-commerce_Projekt/frontend/src/components/Products.js"],"names":["React","useState","useDispatch","useSelector","deleteProduct","listProducts","listProductsCategories","useEffect","LoadingBox","ErrorBox","Button","Col","Container","Form","Row","Table","PRODUCT_DELETE_RESET","ProductCreate","ProductsTab","props","productList","state","loading","error","products","productDelete","loadingDelete","errorDelete","success","successDelete","productCreate","loadingCreate","errorCreate","successCreate","dispatch","name","setName","category","setCategory","productCategoryList","categories","editHandler","product","window","location","href","_id","type","body","document","querySelector","scrollIntoView","behavior","deleteHandler","confirm","paddingBottom","marginBottom","margin","e","target","value","map","c","filter","toLowerCase","includes","thumbnail","toString","price"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {deleteProduct, listProducts, listProductsCategories} from \"../actions/productActions\";\r\nimport {useEffect} from \"react\";\r\nimport LoadingBox from \"./Loading\";\r\nimport ErrorBox from \"./Error\";\r\nimport {Button, Col, Container, Form, Row, Table} from \"react-bootstrap\";\r\nimport {PRODUCT_DELETE_RESET} from \"../constants/productsConstants\";\r\nimport ProductCreate from \"./ProductCreateModal\";\r\n\r\n\r\n\r\nexport default function ProductsTab(props) {\r\n\r\n    const productList = useSelector(state => state.productList);\r\n    const {loading, error, products} = productList;\r\n    const productDelete = useSelector(state => state.productDelete);\r\n    const { loading: loadingDelete, error: errorDelete, success: successDelete} = productDelete;\r\n    const productCreate = useSelector(state => state.productCreate);\r\n    const {loading: loadingCreate, error: errorCreate, success: successCreate} = productCreate;\r\n    const dispatch = useDispatch();\r\n    const [name, setName] = useState('');\r\n    const [category, setCategory]= useState('');\r\n    const productCategoryList = useSelector((state) => state.productCategoryList);\r\n    const {categories} = productCategoryList;\r\n\r\n\r\n    const editHandler = (product) => {\r\n        window.location.href = `/product/${product._id}/edit`;\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(successDelete){\r\n            dispatch({type: PRODUCT_DELETE_RESET});\r\n        }\r\n        dispatch(listProducts());\r\n        dispatch(listProductsCategories());\r\n\r\n        const body = document.querySelector('#root');\r\n\r\n        body.scrollIntoView({\r\n            behavior: 'smooth'\r\n        }, 500);\r\n\r\n    }, [dispatch, successDelete, successCreate]);\r\n\r\n    const deleteHandler = (product) => {\r\n        if(window.confirm(`Jesteś pawny/a, że chcesz usunąć produkt ${product.name}?`)){\r\n            dispatch(deleteProduct(product._id));\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{paddingBottom: '14%', marginBottom: '8%'}}>\r\n\r\n\r\n\r\n\r\n            <Row className=\"mr-0\">\r\n                <Col lg=\"2\"><h1 style={{margin: '10px'}}>Produkty</h1></Col>\r\n                <Col lg=\"6\"><ProductCreate /></Col>\r\n            </Row>\r\n            {loadingDelete && <LoadingBox/>}\r\n            {errorDelete && <ErrorBox variant=\"danger\">{errorDelete}</ErrorBox>}\r\n            {loadingCreate && <LoadingBox/>}\r\n            {errorCreate && <ErrorBox variant=\"danger\">{errorCreate}</ErrorBox>}\r\n\r\n            <Form.Row className=\"ml-2\">\r\n                <Form.Group as={Col} lg=\"4\" controlId=\"formGridSearch\">\r\n                    <Form.Label className=\"mt-3\">Wyszukaj</Form.Label>\r\n                    <Form.Control className=\"text-lg\" onChange={e => setName(e.target.value)}/>\r\n                </Form.Group>\r\n                <Form.Group as={Col} lg=\"4\" defaultValue=\"Wybierz kategorię...\" controlId=\"formGridCategory\">\r\n                    <Form.Control as=\"select\" className=\"mt-5 text-lg\"  onChange={e => setCategory(e.target.value)}>\r\n                        <option selected value=\"all\">Wybierz kategorię...</option>\r\n                        {categories.map((c) => (\r\n                            <option key={c}>{c}</option>\r\n                        ))}\r\n                    </Form.Control>\r\n                </Form.Group>\r\n            </Form.Row>\r\n\r\n            {\r\n                loading ? <LoadingBox/>:\r\n                    error ? <ErrorBox variant=\"danger\">{error}</ErrorBox>:\r\n                        <Table className=\"mb-5\" striped bordered responsive>\r\n                            <thead>\r\n                            <tr>\r\n                                <th>NUMER PRODUKTU</th>\r\n                                <th>NAZWA</th>\r\n                                <th>CENA</th>\r\n                                <th>KATEGORIA</th>\r\n                                <th>AKCJE</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {\r\n                                products.filter((product) => {\r\n                                    if(name === \"\" && category === \"all\"){\r\n                                        return product;\r\n                                    } else if(product.name.toLowerCase().includes(name.toLowerCase()) && category === \"all\"){\r\n                                        return product;\r\n                                    }else if(product.thumbnail.toLowerCase().includes(name.toLowerCase()) && category === \"all\"){\r\n                                        return product;\r\n                                    } else if(name === \"\" && product.category.toString().toLowerCase().includes(category.toLowerCase())) {\r\n                                        return product;\r\n                                    } else if(product.name.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())){\r\n                                        return product;\r\n                                    } else if(product._id.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())){\r\n                                        return product;\r\n                                    }\r\n                                    else if(product.thumbnail.toLowerCase().includes(name.toLowerCase()) && product.category.toString().toLowerCase().includes(category.toLowerCase())){\r\n                                        return product;\r\n                                    }\r\n\r\n                                }).map((product) => (\r\n                                    <tr key={product._id}>\r\n                                        <td>{product._id}</td>\r\n                                        <td>{product.name}</td>\r\n                                        <td>{product.price} zł</td>\r\n                                        <td>{product.category}</td>\r\n                                        <td>\r\n                                            <Button size=\"sm\" onClick={() => editHandler(product)}>\r\n                                                Edytuj\r\n                                            </Button>\r\n                                            <Button size=\"sm\" variant=\"danger\" className=\"ml-3\" onClick={() => deleteHandler(product)}>Usuń</Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                            </tbody>\r\n\r\n                        </Table>\r\n            }\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}